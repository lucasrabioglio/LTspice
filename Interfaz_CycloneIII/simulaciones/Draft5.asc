Version 4
SHEET 1 1440 1060
WIRE -96 -32 -144 -32
WIRE 48 -32 -16 -32
WIRE 96 -32 48 -32
WIRE 224 -32 176 -32
WIRE 512 -32 224 -32
WIRE 624 -32 512 -32
WIRE 512 0 512 -32
WIRE -144 16 -144 -32
WIRE 224 128 224 -32
WIRE -288 144 -720 144
WIRE -224 144 -288 144
WIRE -208 144 -224 144
WIRE -112 144 -128 144
WIRE -80 144 -112 144
WIRE -16 144 -80 144
WIRE 48 144 48 -32
WIRE 192 144 48 144
WIRE 624 144 624 -32
WIRE -80 160 -80 144
WIRE 336 160 256 160
WIRE 352 160 336 160
WIRE 384 160 352 160
WIRE 512 160 512 80
WIRE 512 160 464 160
WIRE 576 160 512 160
WIRE -16 176 -16 144
WIRE 16 176 -16 176
WIRE 144 176 96 176
WIRE 192 176 144 176
WIRE 288 176 256 176
WIRE 288 192 288 176
WIRE -224 224 -224 144
WIRE -192 224 -224 224
WIRE -112 224 -112 144
WIRE -112 224 -128 224
WIRE -80 240 -80 224
WIRE -720 288 -720 144
WIRE 144 288 144 176
WIRE 224 288 144 288
WIRE 336 288 336 160
WIRE 336 288 304 288
WIRE -720 416 -720 368
WIRE 624 432 624 240
WIRE 960 432 624 432
WIRE 960 464 960 432
WIRE -96 592 -144 592
WIRE 48 592 -16 592
WIRE 96 592 48 592
WIRE 224 592 176 592
WIRE 336 592 224 592
WIRE 960 592 960 544
WIRE -144 640 -144 592
WIRE 336 672 336 592
WIRE 624 704 624 432
WIRE 224 752 224 592
WIRE -288 768 -288 144
WIRE -224 768 -288 768
WIRE -208 768 -224 768
WIRE -112 768 -128 768
WIRE -80 768 -112 768
WIRE -16 768 -80 768
WIRE 48 768 48 592
WIRE 192 768 48 768
WIRE -80 784 -80 768
WIRE 336 784 336 752
WIRE 336 784 256 784
WIRE 352 784 336 784
WIRE 368 784 352 784
WIRE 400 784 368 784
WIRE 576 784 480 784
WIRE -16 800 -16 768
WIRE 16 800 -16 800
WIRE 144 800 96 800
WIRE 192 800 144 800
WIRE 288 800 256 800
WIRE 288 816 288 800
WIRE 368 832 368 784
WIRE -224 848 -224 768
WIRE -192 848 -224 848
WIRE -112 848 -112 768
WIRE -112 848 -128 848
WIRE -80 864 -80 848
WIRE 144 912 144 800
WIRE 224 912 144 912
WIRE 336 912 336 784
WIRE 336 912 304 912
WIRE 624 992 624 800
FLAG -1152 112 0
FLAG 224 192 0
FLAG -720 416 0
FLAG 288 192 0
FLAG -144 16 0
FLAG -80 240 0
FLAG 352 160 Vo1
FLAG 224 -32 Vcc
FLAG -1152 32 Vcc
FLAG 224 816 0
FLAG 288 816 0
FLAG -144 640 0
FLAG -80 864 0
FLAG 352 784 Vo2
FLAG 224 592 Vcc
FLAG 624 992 0
FLAG 960 592 0
FLAG 368 912 0
SYMBOL Comparators\\xcomp_x11 224 96 R0
SYMATTR InstName U1
SYMATTR Value LM311
SYMBOL voltage -1152 16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage -720 272 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PULSE(0 12 0 0.1u 0.1u 5m 10m)
SYMBOL res 320 272 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1e6
SYMBOL res 0 192 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 192 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL res -112 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 22k
SYMBOL cap -96 160 R0
SYMATTR InstName C1
SYMATTR Value 5n
SYMBOL diode -192 240 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 0 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 4.7k
SYMBOL Comparators\\xcomp_x11 224 720 R0
SYMATTR InstName U2
SYMATTR Value LM311
SYMBOL res 320 656 R0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res 320 896 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1e6
SYMBOL res 0 816 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL res 192 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 4.7k
SYMBOL res -112 752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 22k
SYMBOL cap -96 784 R0
SYMATTR InstName C2
SYMATTR Value 5n
SYMBOL diode -128 832 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 0 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 100k
SYMBOL nmos 576 704 R0
SYMATTR InstName M2
SYMATTR Value AO3400
SYMATTR Prefix X
SYMBOL res 944 448 R0
SYMATTR InstName R13
SYMATTR Value 100k
SYMBOL pmos 576 240 M180
SYMATTR InstName M1
SYMATTR Value AO3401A
SYMATTR Prefix X
SYMBOL res 480 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 4.7k
SYMBOL res 496 768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 4.7k
SYMBOL res 496 -16 R0
SYMATTR InstName R16
SYMATTR Value 4.7k
SYMBOL res 352 816 R0
SYMATTR InstName R17
SYMATTR Value 10k
TEXT -1584 304 Left 2 !.tran 0 20m 0 1m
TEXT -1584 272 Left 2 !.lib "C:\\Program Files\\LTC\\LTspiceXVII\\lib\\sub\\LM311.lib"
TEXT -1584 360 Left 2 !.lib AO3401A.lib
